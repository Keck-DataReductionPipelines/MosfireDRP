<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Installing - MOSFIRE DRP Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Installing";
    var mkdocs_page_input_path = "installing.md";
    var mkdocs_page_url = "/installing/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> MOSFIRE DRP Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">DRP Manual</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../manual/">Contents</a>
                </li>
                <li class="">
                    
    <a class="" href="../changes/">Changes</a>
                </li>
                <li class="">
                    
    <a class="" href="../preface/">Preface</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Installing</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#installation">Installation</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#requirements">Requirements</a></li>
        
            <li><a class="toctree-l4" href="#installing-python">Installing Python</a></li>
        
            <li><a class="toctree-l4" href="#download-and-install-the-drp">Download and Install the DRP</a></li>
        
            <li><a class="toctree-l4" href="#alternate-methods-of-installing-python">Alternate Methods of Installing Python</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../retrieve/">Retrieve Your Data</a>
                </li>
                <li class="">
                    
    <a class="" href="../handle/">Handle</a>
                </li>
                <li class="">
                    
    <a class="" href="../autodriver/">Automatic Generation of the Driver File</a>
                </li>
                <li class="">
                    
    <a class="" href="../driver/">The driver.py File</a>
                </li>
                <li class="">
                    
    <a class="" href="../flats/">Flats</a>
                </li>
                <li class="">
                    
    <a class="" href="../wavelengthYJH/">Wavelength Calibration – Y, J, and H Bands</a>
                </li>
                <li class="">
                    
    <a class="" href="../wavelengthK/">Wavelength Calibration – K Band</a>
                </li>
                <li class="">
                    
    <a class="" href="../background/">Background Subtraction</a>
                </li>
                <li class="">
                    
    <a class="" href="../rectify/">Rectify</a>
                </li>
                <li class="">
                    
    <a class="" href="../extract/">Spectral Extraction</a>
                </li>
                <li class="">
                    
    <a class="" href="../long2pos/">Long2pos Reductions</a>
                </li>
                <li class="">
                    
    <a class="" href="../longslit/">Longslit Reductions</a>
                </li>
                <li class="">
                    
    <a class="" href="../headercomments/">A Word About Header Comments</a>
                </li>
                <li class="">
                    
    <a class="" href="../hints/">Some Hints</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">MOSFIRE DRP Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>DRP Manual &raquo;</li>
        
      
    
    <li>Installing</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="installation">Installation</h1>
<h2 id="requirements">Requirements</h2>
<p>The pipeline requires the following python modules:</p>
<ul>
<li>numpy</li>
<li>astropy</li>
<li>ccdproc</li>
<li>scipy</li>
</ul>
<h2 id="installing-python">Installing Python</h2>
<h3 id="using-anaconda-cloud-and-conda-environments">Using Anaconda Cloud and Conda Environments</h3>
<p>Install Anaconda as per the instructions on the <a href="https://www.continuum.io/downloads">Anaconda web site</a>.</p>
<p>Now we will create a conda <a href="https://conda.io/docs/user-guide/tasks/manage-environments.html">environment</a> specifically for the MOSFIRE DRP.  Rather than specify everything on the command line, we will get the specification for the environment from the Anaconda Cloud service.  There are two specifications, one for linux (tested on a CentOS 7 system) and one for macOS (tested on macOS 10.12.6).  Get the one appropriate for your system using one of the commands below:</p>
<pre><code>conda env create KeckObservatory/mospy_2018_linux
</code></pre>
<p>or</p>
<pre><code>conda env create KeckObservatory/mospy_2018_macos
</code></pre>
<p>Now we will invoke that environment:</p>
<pre><code>source activate mospy_2018_linux
</code></pre>
<p>or</p>
<pre><code>source activate mospy_2018_macos
</code></pre>
<p>Now we will install the DRP itself.  From now on, if you want to run the DRP, first invoke the appropriate environment using <code>source activate mospy_2018_linux</code> or <code>source activate mospy_2018_macos</code>.</p>
<h2 id="download-and-install-the-drp">Download and Install the DRP</h2>
<p>Download the zip file of the released version from <a href="https://github.com/Keck-DataReductionPipelines/MosfireDRP/releases/download/Release2018/MosfireDRP-2018release.zip">GitHub</a>.</p>
<p>Move the zip file to a location on your computer where you want the source code to reside, then unzip the file:</p>
<pre><code>unzip MosfireDRP-2018release.zip
</code></pre>
<p>Change in to the resulting <code>MosfireDRP-2018release/</code> directory:</p>
<pre><code>cd MosfireDRP-2018release
</code></pre>
<p>Run the install program:</p>
<pre><code>python setup.py install
</code></pre>
<p>The executable <code>mospy</code> should now be in your path.  If you used the Anaconda based install, it will be in the Anaconda bin directory (e.g. <code>~/anaconda/envs/mospy_2018_macos/bin/mospy</code>).</p>
<h2 id="alternate-methods-of-installing-python">Alternate Methods of Installing Python</h2>
<p>Note, these are no longer the recommended methods of installing the DRP as they do not gauranttee that the various package versions are compatible with the DRP.</p>
<h3 id="using-the-anaconda-distribution">Using the Anaconda Distribution</h3>
<p>Install Anaconda as per the instructions on the <a href="https://www.continuum.io/downloads">Anaconda web site</a>.  The pipeline currently (2016 release) only runs on python 2.7, so download and install that version, not the python 3.x version.</p>
<p>To generate an environment similar to the one in the recommended anaconda cloud based install, you can use the following command:</p>
<pre><code>conda create --no-default-packages -c astropy -n mospy_2018_macos python=3.6.3 astropy=2.0.3 ccdproc=1.3.0 ipython=6.2.1 numpy=1.13.3 scipy=1.0.0 PyQt=5.6.0
</code></pre>

<p>You should now have all the requirements to run the MOSFIRE DRP.  This should work on any anaconda install, even if the pre-packaged linux and macOS environments are incompatible with your machine.</p>
<h3 id="using-other-python-install-methods">Using Other Python Install Methods</h3>
<p>The DRP support group recommends the anaconda python install and has tested the DRP using that installer, but if an appropriate version of python is installed via some other package manager (e.g. apt-get, brew, yum, etc.), then you should be able to install the python package dependencies using either that package manager (if they are available via that package manager) or using <code>pip</code>.  For example:</p>
<pre><code>pip install numpy
pip install astropy
pip install ccdproc
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../retrieve/" class="btn btn-neutral float-right" title="Retrieve Your Data">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../preface/" class="btn btn-neutral" title="Preface"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../preface/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../retrieve/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
