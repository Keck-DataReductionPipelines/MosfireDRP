<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Handle - MOSFIRE DRP Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Handle";
    var mkdocs_page_input_path = "handle.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> MOSFIRE DRP Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">DRP Manual</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../manual/">Contents</a>
                </li>
                <li class="">
                    
    <a class="" href="../changes/">Changes</a>
                </li>
                <li class="">
                    
    <a class="" href="../preface/">Preface</a>
                </li>
                <li class="">
                    
    <a class="" href="../installing/">Installing</a>
                </li>
                <li class="">
                    
    <a class="" href="../retrieve/">Retrieve Your Data</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Handle</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#handle">Handle</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../autodriver/">Automatic Generation of the Driver File</a>
                </li>
                <li class="">
                    
    <a class="" href="../flats/">Flats</a>
                </li>
                <li class="">
                    
    <a class="" href="../wavelengthYJH/">Wavelength Calibration – Y, J, and H Bands</a>
                </li>
                <li class="">
                    
    <a class="" href="../wavelengthK/">Wavelength Calibration – K Band</a>
                </li>
                <li class="">
                    
    <a class="" href="../background/">Background Subtraction</a>
                </li>
                <li class="">
                    
    <a class="" href="../rectify/">Rectify</a>
                </li>
                <li class="">
                    
    <a class="" href="../extract/">Spectral Extraction</a>
                </li>
                <li class="">
                    
    <a class="" href="../long2pos/">Long2pos Reductions</a>
                </li>
                <li class="">
                    
    <a class="" href="../longslit/">Longslit Reductions</a>
                </li>
                <li class="">
                    
    <a class="" href="../headercomments/">A Word About Header Comments</a>
                </li>
                <li class="">
                    
    <a class="" href="../hints/">Some Hints</a>
                </li>
                <li class="">
                    
    <a class="" href="../example/">Examples of Running the Pipeline</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">MOSFIRE DRP Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>DRP Manual &raquo;</li>
        
      
    
    <li>Handle</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="handle">Handle</h1>
<p>Now that you have data to reduce, we need to set up the pipeline with the appropriate files so that the drp knows what files to use in the reduction. The handle step will parses the FITS header information and determine what files are associated with each of your masks. </p>
<p>Because the DRP no longer has a designated output directory, you will need to run handle in your designated reduction sub-directory (<code>reduced</code> in our example).</p>
<pre><code>mkdir reduced
cd reduced
mospy handle /home/[yourhomedir]/Data/DRP_Test_Case_Hband/2012sep10/*fits
</code></pre>
<p>Please use the full path to the raw data when invoking <code>mospy handle</code>.</p>
<p>A lot of data summarizing the observations is output. This includes a table of the observations:</p>
<pre><code>m130514_0132        Flat:mos Y mosmaskA     16.0 s      mosmaskA   Y      YJ
m130114_0133        Flat:mos Y mosmaskA     16.0 s      mosmaskA   Y      YJ
m130114_0134        Flat:mos Y mosmaskA     16.0 s      mosmaskA   Y      YJ
m130114_0135        Flat:mos Y mosmaskA     16.0 s      mosmaskA   Y      YJ
m130114_0136        Flat:mos Y mosmaskA     16.0 s      mosmaskA   Y      YJ
m140114_0137        Flat:mos Y mosmaskA     16.0 s      mosmaskA   Y      YJ
...
</code></pre>
<p>and file lists that organize the observation types:</p>
<pre><code>mosmaskA /2013jan14/Y/Unknown.txt
mosmaskA /2013jan14/Y/Align.txt
mosmaskA /2013jan14/Y/MIRA.txt
mosmaskA /2013jan14/Y/Ne.txt
mosmaskA /2013jan14/Y/Offset_2.txt
mosmaskA /2013jan14/Y/Offset_-2.txt
mosmaskA /2013jan14/Y/Flat.txt
mosmaskA /2013jan14/Y/Image.txt
mosmaskA /2013jan14/Y/FlatThermal.txt
mosmaskA /2013jan14/Y/Dark.txt
mosmaskA /2013jan14/Y/Ar.txt
mosmaskA 2013jan14/Y/Aborted.txt
...
</code></pre>
<p>The handle step creates a set of directories organized as</p>
<pre><code>[maskname]/[date]/[band]/
</code></pre>
<p>Containing</p>
<ul>
<li>Aborted.txt: Aborted files</li>
<li>Align.txt: Alignment frames</li>
<li>Ar.txt: Argon spectra</li>
<li>Dark.txt: Darks </li>
<li>Flat.txt: Flat fields</li>
<li>FlatThermal.txt: Thermal Flats (lamps off)</li>
<li>Image.txt: Imaging mode</li>
<li>MIRA.txt: MIRA focus images</li>
<li>Ne.txt: Neon lamp spectra</li>
<li>Unknown.txt: Unknown files</li>
<li>Offset_[p].txt: Science frames</li>
</ul>
<p>The output directory structure is designed to make finding reduced data easy, and to separate reductions of the same mask across multiple dates. Below is a screen shot showing the example output from an Offset*.txt file.</p>
<p><img alt="Screenshot" src="../image1.png" title="Directory structure screenshot" /></p>
<p>For longslit observations, separate offsets files are created for each object, but the same offset files are used if the same object is observed many times during the night. You might want to separate the different observations of the same object.</p>
<p>For long2pos observations, again different offset files are created for each object. Besides, the suffixes _PosA and _PosC are added to the offset files to identify the two left and right positions used in the observations.</p>
<p>The following section describes in details how to use the driver file to control the pipeline processes, and points at a number of standard driver files that we provide for reference.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../autodriver/" class="btn btn-neutral float-right" title="Automatic Generation of the Driver File">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../retrieve/" class="btn btn-neutral" title="Retrieve Your Data"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../retrieve/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../autodriver/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
